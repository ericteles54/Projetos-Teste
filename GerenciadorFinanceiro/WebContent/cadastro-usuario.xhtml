<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" 
      xmlns:ui="http://java.sun.com/jsf/facelets" 
      xmlns:h="http://java.sun.com/jsf/html" 
      xmlns:f="http://java.sun.com/jsf/core">

<h:head>
	<title>Cadastro de usuários</title>
</h:head>

<h:body>
	<h:outputStylesheet library="css" name="system.css" />
	
	<h1>Cadastro de usuários</h1>
	
	<h:messages errorStyle="color: red" infoStyle="color: blue" warnStyle="color: yellow"/>
	<h:form>
		<h:panelGrid columns="2">
			<h:outputLabel value="Nome: " for="campo-nome" />
			<h:inputText
				value="#{usuarioBean.usuario.nome}"
				id="campo-nome"
				required="true"
				requiredMessage="O campo Nome é obrigatório" />
			
			<h:outputLabel value="Username: " for="campo-username" />
			<h:inputText
				value="#{usuarioBean.usuario.username}"
				id="campo-username"
				required="true"
				requiredMessage="O campo Username é obrigatório" />
			
			<h:outputLabel value="Password: " for="campo-password" />
			<h:inputSecret
				value="#{usuarioBean.usuario.password}"
				id="campo-password"
				required="true"
				requiredMessage="O campo Password é obrigatório" />
			
			<h:commandButton action="#{usuarioBean.adicionaUsuario}" value="Cadastrar" />
		</h:panelGrid>
	</h:form>
		
	<h:dataTable
		rendered="#{not empty usuarioBean.usuarios}"
		value="#{usuarioBean.usuarios}"
		var="usuario"
		border="1"
		cellpadding="3"
		cellspacing="3">
		
		<f:facet name="header">Lista de usuários</f:facet>
		
		<h:column>
			<f:facet name="header">Id</f:facet>
			#{usuario.id}
		</h:column>
		
		<h:column>
			<f:facet name="header">Nome</f:facet>
			#{usuario.nome}
		</h:column>
		
		<h:column>
			<f:facet name="header">username</f:facet>
			#{usuario.username}
		</h:column>
		
		<h:column>
			<f:facet name="header">password</f:facet>
			#{usuario.password}
		</h:column>		
	</h:dataTable>		
	
</h:body>   
</html>